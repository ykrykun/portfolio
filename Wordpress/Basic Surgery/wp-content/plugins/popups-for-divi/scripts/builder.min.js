var divimode_builder=function(){"use strict";!function(t,a){var e=t.DiviAreaBuilder=t.DiviAreaBuilder||{},o=!1,n=!1,s=!1,i=!1,d={},r="",l={admin_label:"",module_id:"",module_class:"",da_is_popup:"off",da_popup_slug:"",da_exit_intent:"off",da_has_close:"on",da_alt_close:"off",da_dark_close:"off",da_not_modal:"on",da_is_singular:"off",da_with_loader:"off",da_has_shadow:"on",da_disable_devices:"off|off|off"},u=0;function _(){o&&function(){if(!o)return;var t=e.getAppFrame(),n=a(t.document);clearInterval(o),o=0,n.off(".da",'input[name^="da_"]'),n.off(".da",".et-fb-button"),n.off(".da",'input[name="module_id"], input[name="module_class"]')}();var t=e.getAppFrame();if(t){try{r=ETBuilderBackend.i18n.library.Section}catch(t){r="Section"}o=setInterval(f,500);var n=a(t.document);n.on("blur.da",'input[name^="da_"]',f),n.on("click.da",".et-fb-button",f),n.on("blur.da",'input[name="module_id"], input[name="module_class"]',(function(){!function(){var t=e.isEditing("et_pb_section");if(!t)return;for(var a=0;a<t.state.sections.length;a++){var o=t.state.sections[a],n=!1;m(o)&&(n=v(n=h(o))),n&&c(n)}}()})),n.on("blur.da",'input[name="da_popup_slug"]',(function(){a(this).val(e.sanitizeSlug(a(this).val()))}))}else setTimeout(_,250)}function f(){var t=e.isEditing("et_pb_section");if(t){var o=t.state.activeModule,n=a(t.document).find(".et-fb-modal__module-settings").find(".et-fb-tabs__item--active").text(),s=!1;"Popup"!==n&&"Divi Areas"!==n||!function(t){var a=t.address,e=d[a],o=!1;e||(o=!0,e={});for(var n in l)0===n.indexOf("da_")&&t.attrs[n]!==e[n]&&(o=!0,e[n]=t.attrs[n]);o&&(d[a]=e);return o}(o.props)||(s=v(o.props)),s&&c(s)}}function p(t,a){if(!a.length)return t;var e=a.shift();return!(!t||void 0===t[e])&&p(t[e],a)}function c(t){var a=e.getAppFrame(),o=t.address;function n(t,a){for(var e in l)a.attrs[e]!==t.attrs[e]&&(void 0===t.attrs[e]?a.attrs[e]="":a.attrs[e]=t.attrs[e])}var s=e.isEditing(t.type);s?n(t,s.state.activeModule.props):s=e.getApp();for(var d=0;d<s.state.sections.length;d++)o===s.state.sections[d].address&&n(t,s.state.sections[d]);i&&clearTimeout(i),i=setTimeout((function(){i=!1;var t=document.createEvent("MouseEvents"),e=document.createEvent("MouseEvents"),o=a.jQuery(".et-fb-modal__resize")[0],n=a;o&&n&&(t.initMouseEvent("mousedown",!0,!0),e.initMouseEvent("mouseup",!0,!0),o.dispatchEvent(t),n.dispatchEvent(e))}),50)}function m(t){var a=d[t.address],e=!1;return a||(e=!0,a={}),void 0===a.module_id&&(a.module_id=""),void 0===a.module_class&&(a.module_class=""),t.attrs.module_id!==a.module_id&&(t.attrs.module_id||a.module_id)&&(e=!0,a.module_id=t.attrs.module_id),t.attrs.module_class!==a.module_class&&(t.attrs.module_class||a.module_class)&&(e=!0,a.module_class=t.attrs.module_class),e&&(d[t.address]=a),e}function v(t){var a=t.address,o=b(t),n=(t.attrs.module_class||"").split(" "),s=t.attrs.da_is_popup||"off",i=t.attrs.da_popup_slug||"",l=t.attrs.da_exit_intent||"off",u=t.attrs.da_has_close||"on",_=t.attrs.da_alt_close||"off",f=t.attrs.da_dark_close||"off",p=t.attrs.da_not_modal||"on",c=t.attrs.da_is_singular||"off",m=t.attrs.da_with_loader||"off",v=t.attrs.da_has_shadow||"on",h=(t.attrs.da_disable_devices||"off|off|off").split("|"),g=["popup","on-exit","no-close","close-alt","dark","is-modal","single","with-loader","no-shadow","not-mobile","not-tablet","not-desktop"];return n=n.filter((function(t){return-1===g.indexOf(t)})),"on"===s&&(n.push("popup"),"on"===l&&n.push("on-exit"),"on"!==u?n.push("no-close"):("on"===_&&n.push("close-alt"),"on"===f&&n.push("dark")),"on"!==p&&n.push("is-modal"),"on"===c&&n.push("single"),"on"===m&&n.push("with-loader"),"on"!==v&&n.push("no-shadow"),"on"===h[0]&&n.push("not-mobile"),"on"===h[1]&&n.push("not-tablet"),"on"===h[2]&&n.push("not-desktop"),o.attrs.module_id=i?e.sanitizeSlug(i):""),"on"===s?o.attrs.admin_label&&r!==o.attrs.admin_label&&0!==o.attrs.admin_label.indexOf("Popup - ")||(o.attrs.module_id?o.attrs.admin_label="Popup - #"+o.attrs.module_id:o.attrs.admin_label="Popup - (unnamed)"):o.attrs.admin_label&&0!==o.attrs.admin_label.indexOf("Popup - ")||(o.attrs.admin_label=r),o.attrs.module_class=n.filter((function(t){return t})).join(" "),d[a].module_class=o.attrs.module_class,d[a].module_id=o.attrs.module_id,d[a].admin_label=o.attrs.admin_label,o}function h(t){var a=t.address,o=b(t),n=e.sanitizeSlug(t.attrs.module_id),s=(t.attrs.module_class||"").split(" "),i=["off","off","off"];return o.attrs.da_is_popup=-1!==s.indexOf("popup")?"on":"off",o.attrs.da_has_close=-1===s.indexOf("no-close")?"on":"off",o.attrs.da_exit_intent=-1!==s.indexOf("on-exit")?"on":"off",o.attrs.da_alt_close=-1!==s.indexOf("close-alt")?"on":"off",o.attrs.da_dark_close=-1!==s.indexOf("dark")?"on":"off",o.attrs.da_not_modal=-1===s.indexOf("is-modal")?"on":"off",o.attrs.da_is_singular=-1!==s.indexOf("single")?"on":"off",o.attrs.da_with_loader=-1!==s.indexOf("with-loader")?"on":"off",o.attrs.da_has_shadow=-1===s.indexOf("no-shadow")?"on":"off",i[0]=-1!==s.indexOf("not-mobile")?"on":"off",i[1]=-1!==s.indexOf("not-tablet")?"on":"off",i[2]=-1!==s.indexOf("not-desktop")?"on":"off",o.attrs.da_disable_devices=i.join("|"),n&&(o.attrs.da_popup_slug=n),d[a].da_is_popup=o.attrs.da_is_popup,d[a].da_popup_slug=e.sanitizeSlug(o.attrs.da_popup_slug),d[a].da_has_close=o.attrs.da_has_close,d[a].da_exit_intent=o.attrs.da_exit_intent,d[a].da_alt_close=o.attrs.da_alt_close,d[a].da_dark_close=o.attrs.da_dark_close,d[a].da_not_modal=o.attrs.da_not_modal,d[a].da_is_singular=o.attrs.da_is_singular,d[a].da_has_shadow=o.attrs.da_has_shadow,d[a].da_disable_devices=o.attrs.da_disable_devices,d[a].da_with_loader=o.attrs.da_with_loader,o}function b(t){return JSON.parse(JSON.stringify(t))}e.init=function(){if(t.ET_Builder){var a=(t._daConfig||{}).divi_areas_cpt||"divi-area";((((ET_Builder.Frames||{}).app||{}).ETBuilderBackendDynamic||{}).postType||"page")!==a&&_()}else{if(!(++u<10))throw new Error("Could not initialize the Library (ET_Builder is undefined)");setTimeout(e.init,250)}},e.getAppFrame=function(){return!!(t.top.ET_Builder&&t.top.ET_Builder.Frames&&t.top.ET_Builder.Frames.top)&&t.top.ET_Builder.Frames.top},e.getApp=function(){var t=e.getAppFrame();if(!t)return!1;var o=a(t.document).find("#et-fb-app .place-top");if(!o||!o.length)return!1;if(!s||!o[0][s])for(var i in o[0])if(o[0].hasOwnProperty(i)&&0===i.indexOf("__reactInternalInstance$")){n=i.substr(24),s="__reactInternalInstance$"+n;break}var d=o[0][s],r=p(d,["alternate","return","alternate","return","alternate","memoizedProps","_owner","alternate","memoizedState"]),l=p(d,["return","stateNode","setState"]);return!(!r||!l)&&{document:t.document,state:r,setState:l.bind(d.return.stateNode)}},e.isEditing=function(t){var a=e.getApp();return a&&a.state&&a.state.activeModule&&a.state.activeModule.props&&a.state.activeModule.props.type?t&&("string"==typeof t&&(t=[t]),-1===t.indexOf(a.state.activeModule.props.type))?null:a:null},e.sanitizeSlug=function(t){return"string"!=typeof t&&(t=""),t=(t=(t=(t=t.replace(/#/g,"")).replace(/[^a-zA-Z0-9\-_]/g,"-")).replace(/\-+/g,"-")).replace(/^\-+|\-+$/g,"")}}(window,jQuery),function(t,a){var e=!1;function o(t){function o(){e||(e=!0,setTimeout((function(){t.parent.DiviAreaBuilder&&t.parent.DiviAreaBuilder.init()}),20))}!0===t.et_fb_app?o():a(t).on("et_fb_init",o)}a("#et-bfb-app-frame").on("load",(function(){o(this.contentWindow)})),o(t)}(window,jQuery);return{}}();
